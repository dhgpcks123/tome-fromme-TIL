## ThreadLocal

- 자바 1.2버전부터 제공
- 쓰레드 단위로 로컬 변수를 할당할 수 있음

### ThreadLocal이란?

일반 변수는 특정 코드 불록(메서드, for ...) 범위 내에서만 유효하다

```java
{
  int a = 10;
  ...
  // 블록 내에서만 a 변수 사용 가능
}
// 변수 a는 위 코드 블록이 끝나면 더 이상 사용할 수 없음(수명을 다함)
```

반면에 ThreadLocal을 이용하면 쓰레드 영역에 변수를 설정할 수 있기 때문에
특정 쓰레드가 실행하는 모든 코드에서 그 쓰레드에 설정된 변수 값을 사용할 수 있게 된다

쓰레드1과 쓰레드2가 있다고 해보자.
동일한 코드를 실행하는데 쓰레드로컬 변수를 사용한다면
각각 다른 값이 저장되게 될 것이다

### 사용방법

1. ThreadLocal 객체 생성
2. ThreadLocal.set() 현재 쓰레드 로컬 변수에 값 저장
3. ThreadLocal.get() 현재 쓰레드 로컬 변수 값 읽어오기
4. ThreadLocal.remove() 쓰레드 로컬 변수 값 삭제

### 사용시 주의 사항

ThreadLocal 사용하는 경우 변수에 보관 된 데이터의 사용이 끝나면 반드시 삭제 해주어야 한다.
그렇지 않을 경우 재사용되는 쓰레드가 삭제 되지 않은 데이터를 참조하게 될 수도 있다
